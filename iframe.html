<!doctype html>
<style>
ol, li, p {
  padding:0;
  margin: 0;
}
.result {
  list-style-type: none;
  font-size: 12px;
  padding:5px 0;
  cursor: default;
  -moz-user-select: none;
}
.result .url {
  color: blue;
}
.result:hover, .result:hover .url {
  background: #2A7EEB;
  color: white;
}
</style>
<ol id="results"></ol>
<script>
window.onload = function domReady() {
  // listen for events coming from chrome
  window.addEventListener('WebChannelMessageToContent', function(e) {
    console.log('message from chrome received in iframed page: ' + JSON.stringify(e.detail));
    if (e.detail.message && e.detail.message.type == 'autocomplete-search-results') {
      // ok, we got this list of results. render em.
      var resultsContainer = document.getElementById('results');
      var resultsText = '';
      e.detail.message.data.forEach(function(result) {
        resultsText += '<li style="list-style-type:none" class="result">' +
                         '<p>' + result.title + '</p>' + 
                         '<p class="url">' + result.url + '</p></li>';
      });
      resultsContainer.innerHTML = resultsText;
    }
  });

};
</script>
